{% extends "admin/layout.html" %}

{% block title %}Users{% endblock %}

{% block content %}
<div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold font-orbitron text-white">User Management</h1>
    <div class="text-gray-400 text-sm">{{ users|length }} registered accounts</div>
</div>

<div class="bg-black/40 border border-gray-800 rounded-xl overflow-hidden">
    <div class="overflow-x-auto">
        <table class="w-full text-left border-collapse">
            <thead>
                <tr class="bg-black/60 text-gray-400 uppercase text-xs tracking-wider font-bold">
                    <th class="p-4 border-b border-gray-800">Status</th>
                    <th class="p-4 border-b border-gray-800">Name</th>
                    <th class="p-4 border-b border-gray-800">Level</th>
                    <th class="p-4 border-b border-gray-800">Class</th>
                    <th class="p-4 border-b border-gray-800">Resources</th>
                    <th class="p-4 border-b border-gray-800">Last Seen</th>
                    <th class="p-4 border-b border-gray-800 text-right">Actions</th>
                </tr>
            </thead>
            <tbody class="text-sm divide-y divide-gray-800">
                {% for u in users %}
                <tr class="hover:bg-white/5 transition-colors">
                    <td class="p-4">
                        {% if u.is_online %}
                        <span
                            class="inline-block w-2.5 h-2.5 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]"
                            title="Online"></span>
                        {% else %}
                        <span class="inline-block w-2.5 h-2.5 rounded-full bg-gray-600" title="Offline"></span>
                        {% endif %}
                        {% if u.is_admin %}
                        <span
                            class="ml-2 text-[10px] bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded border border-red-500/30 uppercase font-bold">Admin</span>
                        {% endif %}
                    </td>
                    <td class="p-4 font-bold text-white">{{ u.name }}</td>
                    <td class="p-4 text-blue-300">Lvl {{ u.level }}</td>
                    <td class="p-4 text-gray-400">{{ u.class_type }}</td>
                    <td class="p-4 text-yellow-500">{{ u.gold }}g / {{ u.diamonds }}d</td>
                    <td class="p-4 text-gray-500 text-xs">{{ u.last_login }}</td>
                    <td class="p-4 text-right">
                        <a href="/admin/users/{{ u.id }}"
                            class="inline-block bg-blue-600 hover:bg-blue-500 text-white text-xs px-3 py-1.5 rounded font-bold uppercase tracking-wide transition-colors">
                            Edit
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}